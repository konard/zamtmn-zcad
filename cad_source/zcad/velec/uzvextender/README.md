# Расширения устройств (Device Extenders)

Эта папка содержит расширения для устройств в системе ZCAD.

## Содержание

### uzvextdrfireprotection.pas

Расширение для отображения кругов защиты пожарных извещателей.

#### Назначение

Расширение автоматически создает круги защиты для пожарных извещателей на основе их типа (дымовой или тепловой) и высоты установки. Круги рисуются на слое `EXTEDER` и позволяют визуально оценить зону покрытия каждого извещателя.

#### Использование

Чтобы добавить расширение к устройству, используйте команду:

```
extdrAdd(extdrFireProtection)
```

#### Параметры устройства

Расширение автоматически определяет параметры из переменных устройства:

1. **Тип извещателя**: ищется в переменных `DETECTORTYPE` или `NMO_Name`
   - Дымовой: если в названии содержится "ДЫМ" или "SMOKE"
   - Тепловой: если в названии содержится "ТЕПЛ" или "HEAT"

2. **Высота установки**: ищется в переменных `INSTALLHEIGHT`, `HEIGHT` или `H`
   - Значение по умолчанию: 3.5 м

#### Расчет радиуса защиты

Радиус защиты рассчитывается согласно СП 5.13130.2009 (нормы пожарной безопасности РФ):

**Дымовые извещатели:**
- До 3.5 м: радиус 9.0 м
- До 6.0 м: радиус 8.5 м
- До 10.0 м: радиус 8.0 м
- До 12.0 м: радиус 7.0 м
- Выше 12.0 м: радиус 6.0 м

**Тепловые извещатели:**
- До 3.5 м: радиус 5.0 м
- До 6.0 м: радиус 4.5 м
- До 9.0 м: радиус 4.0 м
- Выше 9.0 м: радиус 3.5 м

#### Управление видимостью

Круги защиты отображаются на слое `EXTEDER`. Для управления видимостью кругов:
- Включите/выключите слой `EXTEDER` в менеджере слоев
- Измените свойства слоя (цвет, тип линии и т.д.)

#### Техническая информация

- **Класс**: `TFireProtectionExtender`
- **Имя расширения**: `extdrFireProtection`
- **Слой по умолчанию**: `EXTEDER`
- **Базовый класс**: `TBaseEntityExtender`

#### Примеры

1. Дымовой извещатель на высоте 3 м создаст круг радиусом 9 м
2. Тепловой извещатель на высоте 5 м создаст круг радиусом 4.5 м
3. При изменении высоты установки круг автоматически пересчитывается

#### Логирование

Расширение записывает информацию в системный лог с типом сообщения `LM_Info`:
- Создание/удаление расширения
- Определение типа извещателя
- Значение высоты установки
- Расчет радиуса защиты
- Создание/удаление круга защиты
